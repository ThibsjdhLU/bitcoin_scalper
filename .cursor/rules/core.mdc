---
description: 
globs: 
alwaysApply: true
---
---
description: Règles de développement et d'architecture pour bitcoin_scalper
globs: 
  - "**/*.py"
  - "**/*.md"
  - "**/Dockerfile"
  - "**/docker-compose.yml"
  - "**/*.yaml"
alwaysApply: true
---

- Respecter l'architecture modulaire décrite dans le README et les instructions du projet.
- Pour chaque module :
  - Générer code Python 3.11+ propre, commenté, et typé.
  - Ajouter tests unitaires automatisés (pytest, coverage >95%).
  - Générer documentation API et usage (docstrings, Sphinx/MkDocs).
  - Prévoir la conteneurisation (Docker) et l'orchestration (Kubernetes).
- Sécurité :
  - Chiffrer tous les secrets (AES-256), stocker dans Keychain macOS ou fichier chiffré.
  - Jamais de secrets en clair dans le code ou les configs.
  - Prévoir MFA, monitoring, alertes, et pare-feu applicatif.
- Data :
  - Ingestion temps réel, nettoyage avancé, stockage TimescaleDB, archivage automatique.
  - Indexation temporelle obligatoire pour toute donnée stockée.
- ML :
  - Implémenter pipelines d'entraînement, tuning hyperparamètres (Optuna/GridSearch).
  - Prioriser RandomForest, XGBoost, LSTM, Transformer.
- Backtesting :
  - Vectorisé, performant, sur 3+ ans de données BTC/USD (ticks et OHLCV).
- CI/CD :
  - Automatiser tests, builds, déploiement, rollback, staging puis production (GitHub Actions).
- Monitoring :
  - Intégrer Prometheus + Grafana, alertes multi-canal.
- Communication inter-OS :
  - Utiliser API REST sécurisée, WebSocket ou RabbitMQ pour échanges macOS <-> Windows MT5.
  - Synchronisation temps réel obligatoire.
- Pour toute nouvelle fonctionnalité ou correction, fournir :
  - Code, tests, documentation, explication de l'impact.
  - Ne jamais merger de code non testé ou non documenté.
