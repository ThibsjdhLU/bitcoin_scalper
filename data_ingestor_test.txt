============================= test session starts ==============================
platform darwin -- Python 3.11.13, pytest-8.3.5, pluggy-1.6.0 -- /Users/thibaultleray-beer/bitcoin_scalper/.venv/bin/python
cachedir: .pytest_cache
PyQt6 6.9.0 -- Qt runtime 6.9.0 -- Qt compiled 6.9.0
rootdir: /Users/thibaultleray-beer/bitcoin_scalper
configfile: pyproject.toml
plugins: qt-4.4.0, anyio-4.9.0, hydra-core-1.3.2, cov-6.1.1
collecting ... collected 11 items

tests/core/mac/test_data_ingestor.py::test_ingest_ticks_and_ohlcv PASSED [  9%]
tests/core/mac/test_data_ingestor.py::test_ingest_error_handling PASSED  [ 18%]
tests/core/mac/test_data_ingestor.py::test_start_stop_thread PASSED      [ 27%]
tests/core/mac/test_data_ingestor.py::test_instanciation PASSED          [ 36%]
tests/core/mac/test_data_ingestor.py::test_start_stop PASSED             [ 45%]
tests/core/mac/test_data_ingestor.py::test_ingest_ohlcv_success PASSED   [ 54%]
tests/core/mac/test_data_ingestor.py::test_ingest_ohlcv_mt5_error PASSED [ 63%]
tests/core/mac/test_data_ingestor.py::test_ingest_ohlcv_db_error PASSED  [ 72%]
tests/core/mac/test_data_ingestor.py::test_ingest_ticks_success PASSED   [ 81%]
tests/core/mac/test_data_ingestor.py::test_ingest_ticks_mt5_error PASSED [ 90%]
tests/core/mac/test_data_ingestor.py::test_ingest_ticks_db_error PASSED  [100%]
ERROR: Coverage failure: total of 30 is less than fail-under=95


================================ tests coverage ================================
______________ coverage: platform darwin, python 3.11.13-final-0 _______________

Name                                Stmts   Miss  Cover   Missing
-----------------------------------------------------------------
bot/connectors/mt5_rest_client.py      50     35    30%   17-23, 26-41, 45-46, 50-51, 55-65, 69, 73
-----------------------------------------------------------------
TOTAL                                  50     35    30%
FAIL Required test coverage of 95% not reached. Total coverage: 30.00%
============================== 11 passed in 1.14s ==============================
